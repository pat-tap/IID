<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, inital-scope=1">
		<meta name="description" content="Interface Website">
		<meta name="author" content="Franz Kienegger">
		
		<title>Foodsharing Plattform - Angebote</title>
		
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/blog.css" rel="stylesheet">
		<link href="css/mega_dropdown.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	</head>
		
	<body>
	
		
    <div class="container"> 

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            </button>
            <a class="navbar-brand" href="#">Foodsharing Plattform</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li ><a href="home.html">Nachfragen</a></li>
              <li class="active"><a href="Angebot.html">Angebote</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class="dropdown mega-dropdown">
					<a href="#" class="dropdown-toggle glyphicon blog-nav" data-toggle="dropdown"><span class="badge pull" id="alert-count">3</span> Benachrichtigungen <span class="caret"></span></a>				
					<ul class="dropdown-menu mega-dropdown-menu">
						<li class="col-sm-3">
							<a  class="benachrichtigung" id="alert_1">
								<img class="offer-image-benachrichtigung" src="images/carrot.png"  alt="">
								<dl class="offer-properties properties">
									<dd class="offer-name">Karotten</dd>
									<dd class="offer-name">
										Menge 10 Stk von Zimmer 415
									</dd>
								</dl>
								<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput close" >löschen</button>
							</a>
						</li>
						<li class="col-sm-3">
							<a  class="benachrichtigung" id="alert_2">
								<img class="offer-image-benachrichtigung" src="images/yoghurt.png"  alt="">
								<dl class="offer-properties properties">
									<dd class="offer-name">Yoghurt</dd>
									<dd class="offer-name">
										Menge 150 Gramm von Zimmer 210
									</dd>
								</dl>
								<button style="margin-left:25px;margin-bottom:10px" class="close btn btn-primary regiInput" >löschen</button>
							</a>
						</li>
						<li class="col-sm-3">
							<a  class="benachrichtigung" id="alert_3">
								<img class="offer-image-benachrichtigung" src="images/mango.png"  alt="">
								<dl class="offer-properties properties">
									<dd class="offer-name">Mango</dd>
									<dd class="offer-name">
										Menge 2 Stk von Zimmer 220
									</dd>
								</dl>
								<button style="margin-left:25px;margin-bottom:10px" class="close btn btn-primary regiInput" >löschen</button>
							</a>
						</li>
					</ul>				
				</li>
	            <li> <a href="#" class="blog-nav glyphicon glyphicon-user"> User-Area  </a></li>	
	            <li><a href="#" class="blog-nav glyphicon glyphicon-cog"> Einstellungen  </a></li>
	            <li><a href="login.html" class="blog-nav glyphicon glyphicon-off"> Abmelden</a></li>
            </ul>
          </div><!--/.nav-collapse -->
          <div>
          </div>
        </div><!--/.container-fluid -->
      </nav>

      <!-- Header with Search Box -->
      <div class="jumbotron">
			<div class="row">
				<div class="col-md-6" >
					<h3 style="font-size:20px">Placeholder</h3>
					<div style="vertical-align: bottom; margin-top:25px; margin-right:50px" class="input-group">
						<input type="text" class="form-control" placeholder="Search for...">
						<span class="input-group-btn">
							<button class="btn btn-default" type="button">Go!</button>
						</span>
					</div>
				</div>
				
				
				<div style="margin-top:20px"     class="col-md-2">
					<p class="blog-nav; margin-left:50px;" style="font-size:20px">Sharing is caring</p>
					<ul >
						<form class="form-horizontal" id="zutat">
							<input class="form-control regiInput" style="  vertical-align: top;"type="text" id="inputZutat" placeholder="Zutat">
							<select class="form-control regiInput">
							  <option>anbieten</option>
							  <option>nachfragen</option>
							</select>					
							<span data-alertid="zutat"></span>	
							<button style="margin-bottom: 150px; " class="btn btn-primary regiInput" type="submit">aufgeben</button>	
						</form>
					</ul>						
				</div>
			</div>
		</div>

    </div> <!-- /container -->
		<div class="container">
			<div class="row">
				<div class="col-md-12 blog-main ">
					<div class="blog-header">
							<h1 class="blog-title">Angebote:</h1>
								<!--<div class="featured-area " >
									<button id="item">sdfdf</button>
								</div>-->
					</div>
				</div>
			</div>
			
			
					
			<div class="offers">
				<div id="template-offer" class="offer-outer" style="display: none;">
					<a  class="offer"
					  >
						<img class="offer-image" src="images/carrot.png" style="width:350px; height:300px"  alt="">
						<dl class="offer-properties properties">
							<dd class="offer-name">Karotten</dd>
							<dd class="offer-price">
								Menge 10 Stk
							</dd>
							<dd  style="margin-bottom:35px" class="offer-highest">Franz Kienegger</dd>
						</dl>
						<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput" >beantworten</button>
					</a>
				</div>
				
				<div class="offer-outer">
					<a  class="offer "
					  >
						<img class="offer-image" src="images/chocolate.png" style="width:350px; height:300px"  alt="">
						<dl class="offer-properties properties">
							<dd class="offer-name">Schokolade</dd>
							<dd class="offer-price">
								Menge: 4 Tafeln
							</dd>
							<dd  style="margin-bottom:35px" class="offer-highest">Franz Kienegger</dd>
						</dl>
						<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput" >beantworten</button>
					</a>
				</div>
				<div class="offer-outer">
					<a  class="offer "
					  >
						<img class="offer-image" src="images/yoghurt.png" style="width:350px; height:300px"  alt="">
						<dl class="offer-properties properties">
							<dd class="offer-name">Yoghurt</dd>
							<dd class="offer-price">
								Menge: 150 g
							</dd>
							<dd  style="margin-bottom:35px" class="offer-highest">Franz Kienegger</dd>
						</dl>
						<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput" >beantworten</button>
					</a>
				</div>
				<div class="offer-outer">
					<a  class="offer expired"
					  >
						<img class="offer-image" src="images/mango.png" style="width:350px; height:300px"  alt="">
						<dl class="offer-properties properties">
							<dd class="offer-name">Mangos</dd>
							<dd class="offer-price">
								Menge: 2 Stk
							</dd>
							<dd class="offer-highest"><p style="font-size:37px; color:green" class="glyphicon glyphicon-ok-circle"></p></dd>
						</dl>
						<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput" disabled>beantworten</button>
					</a>
				</div>
				<div class="offer-outer">
					<a  class="offer expired"
					  >
						<img class="offer-image" src="images/milk.png" style="width:350px; height:300px"  alt="">
						<dl class="offer-properties properties">
							<dd class="offer-name">Milch</dd>
							<dd class="offer-price">
								Menge: 1 l
							</dd>
						
							<dd class="offer-highest"><p style="font-size:37px; color:green" class="glyphicon glyphicon-ok-circle"></p></dd>
						</dl>
						
						<button style="margin-left:25px;margin-bottom:10px" class="btn btn-primary regiInput" disabled>beantworten</button>
					</a>
				</div>
				


			</div>
			
			<br/>
			<br/>
			<br/>
			<br/>
			
		</div>
		
				
    	<footer class="footer">
			<div class="container">
				<p class="text-muted"> <a href="#" class="glyphicon myIcon  glyphicon-copyright-mark"></a>   Foodsharing 2016</p>
			</div>
		</footer>
		
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script scr="js/bootstrap.min.js"></script>
		<script src="js/jquery.bsFormAlerts.js"></script>
	<script>
	    $(document).ready(function(){
		    $(".dropdown").hover(            
		        function() {
		            $('.dropdown-menu', this).not('.in .dropdown-menu').stop(true,true).slideDown("400");
		            $(this).toggleClass('open');        
		        },
		        function() {
		            $('.dropdown-menu', this).not('.in .dropdown-menu').stop(true,true).slideUp("400");
	            	$(this).toggleClass('open');       
	        	}
	    	);

	    	/* Löscht Benachrichtigung und reduziert badge counter*/
		    $(".close").click(function() {
				var id = $(this).parent().attr('id');
				$('#' + id).remove();
				$('#alert-count').html(parseInt($('#alert-count').html(), 10) - 1);
			});
		});
      	$(function(){
        var $window = $(window);
        $("#zutat").submit(function() {
          var inputVal = $("#inputZutat").val();
          $(document).trigger("clear-alert-id.zutat");
          if (inputVal.length < 2) {
            $(document).trigger("set-alert-id-zutat", [
              {
                message: "Eingabe zu kurz",
                priority: "error"
              }
            ]);
          } 
		  else {
            $(document).trigger("set-alert-id-zutat", [
              {
                message: "Ihre Anfrage wurde gesendet",
                priority: "info"
              }
            ]);

            $('#template-offer')
            .clone(true)
            .css('display', 'inline-block')
            .appendTo($('.offers'));

            /*
            var newBut = $('<button id="item"></button>').text(inputVal);
            $(".featured-area").append(newBut);
            $("#inputZutat").val('');
            */
          }
          return false;
        });
      	});
      
	  	$('body').on('click','#item',function(){
	  		var con = confirm('Zutat bereitstellen?');
		     if(con == true){
		     	      $(this).css('background-color', 'green');
		     }
	  	});
		
		
		/*
		Click event for offer
		*/
		$(".offer").click(function(){
			if(!$(this).hasClass("expired")){
				var con = confirm('Möchten Sie die Zutat annehmen?');
				var roomNr = prompt("Welche Zimmernummer haben Sie?\n(Nummer wird nur für die Abholung benötigt.)", "");
				if(con == true && roomNr != null && roomNr != ""){
					$(this).addClass("expired");
					
					var checkIcon = '<p style="font-size:37px; color:green" class="glyphicon glyphicon-ok-circle"></p>';
					$(this).find("dd.offer-highest").removeAttr("style");
					$(this).find("dd.offer-highest").html(checkIcon);
					
					$(this).find("button").attr("disabled", "true");
					
					alert("Der Benutzer/Die Benutzerin wurde informiert.");
				}
			}
		});
    </script>
  
	</body>
</html>